/*! For license information please see desktop.c34fc837.js.LICENSE.txt */
(()=>{"use strict";var e,t,n={},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,i),r.exports}function r(e,t){"string"==typeof e&&void 0!==window.newrelic&&"function"==typeof window.newrelic.addPageAction&&((t=t||{}).location=window.location.href,window.ShifuConfig&&(t.country=window.ShifuConfig.country,t.product=window.ShifuConfig.product,t.flow=window.ShifuConfig.flow,t.companyId=window.ShifuConfig.companyId,t.version=window.ShifuConfig.version,t.xClient=window.ShifuConfig.xClient,t.pageviewId=window.ShifuConfig.pageviewId),window.newrelic.addPageAction(e,t))}function a(e,t){return window.ShifuConfig.ab&&window.ShifuConfig.ab[e]&&window.ShifuConfig.ab[e]===t}function c(){return a("shifuHeadingTemplate","enabled_true")&&function(){var e,t,n=!["DESKTOP","TABLET"].includes(null===(e=window.ShifuConfig)||void 0===e?void 0:e.device),o="true"!==(null===(t=window.ShifuConfig)||void 0===t||null===(t=t.partner)||void 0===t?void 0:t.isAgency);return n&&o}()}i.m=n,i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"js/"+{215:"falabella",587:"viajanet",625:"bestday"}[e]+"."+{215:"4d8da750",587:"f9b7b1d7",625:"3ae6a817"}[e]+".js",i.miniCssF=e=>"css/"+{215:"falabella",587:"viajanet",625:"bestday"}[e]+"."+{215:"4d8da750",587:"f9b7b1d7",625:"3ae6a817"}[e]+".css",i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="shifu:",i.l=(n,o,r,a)=>{if(e[n])e[n].push(o);else{var c,u;if(void 0!==r)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var f=l[s];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+r){c=f;break}}c||(u=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.setAttribute("data-webpack",t+r),c.src=n),e[n]=[o];var d=(t,o)=>{c.onerror=c.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],c.parentNode&&c.parentNode.removeChild(c),i&&i.forEach((e=>e(o))),t)return t(o)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=d.bind(null,c.onerror),c.onload=d.bind(null,c.onload),u&&document.head.appendChild(c)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/shifu/static/",(()=>{if("undefined"!=typeof document){var e={97:0};i.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{215:1,587:1,625:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var o=i.miniCssF(e),r=i.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=(a=n[o]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var r=document.getElementsByTagName("style");for(o=0;o<r.length;o++){var a;if((i=(a=r[o]).getAttribute("data-href"))===e||i===t)return a}})(o,r))return t();((e,t,n,o,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",i.nc&&(a.nonce=i.nc),a.onerror=a.onload=n=>{if(a.onerror=a.onload=null,"load"===n.type)o();else{var i=n&&n.type,c=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+c+")");u.name="ChunkLoadError",u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=c,a.parentNode&&a.parentNode.removeChild(a),r(u)}},a.href=t,document.head.appendChild(a)})(e,r,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{var e={97:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,i)=>o=e[t]=[n,i]));n.push(o[2]=r);var a=i.p+i.u(t),c=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,o[1](c)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[a,c,u]=n,l=0;if(a.some((t=>0!==e[t]))){for(o in c)i.o(c,o)&&(i.m[o]=c[o]);u&&u(i)}for(t&&t(n);l<a.length;l++)r=a[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.shifuJsonpFunction=self.shifuJsonpFunction||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var u=document.getElementById("passportBenefits"),l=function(){var e=window.ShifuConfig.flow,t=window.ShifuConfig.companyId,n=a("shifuMyBenefitsAccess","enabled_true"),o=["search","home","landing","landing:detail","detail","my_passport"].includes(e);return n&&o&&"1"===t},s={es:{main:{loyalty:"Beneficios Pasaporte",noLoyalty:"Cupones"},secondary:{points:"{points} puntos | Cupones",noPoints:"Cupones, puntos y más."}},pt:{main:{loyalty:"Benefícios Passaporte",noLoyalty:"Cupons"},secondary:{points:"{points} pontos | Cupons",noPoints:"Cupons, pontos e mais"}}},f=function(){try{var e=d(),t=u.querySelector("#benefits-incentive-icon"),n=u.querySelector("#benefits-incentive-main-text"),o=u.querySelector("#benefits-incentive-secondary-text");t&&n&&o&&(u.classList.add(e.type),t.classList.add("shifu-3-icon-".concat(e.icon.name)),e.icon.size&&t.classList.add(e.icon.size),n.textContent=e.mainText.text,e.mainText.style&&n.classList.add(e.mainText.style),o.textContent=e.secondaryText.text,e.secondaryText.style&&o.classList.add(e.secondaryText.style),u.classList.remove("-shifu-3-hide"))}catch(e){r("myBenefitsAccessLoadError",{error:e,country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,xClient:window.ShifuConfig.xClient}),u.remove()}},d=function(){var e,t,n=window.ShifuConfig.language,o=window.ShifuConfig.isLogged,i="true"===window.ShifuConfig.isLoyaltyOn,r=null===(e=window.shifu_loyalty_info)||void 0===e?void 0:e.code,a=null===(t=window.shifu_loyalty_info)||void 0===t?void 0:t.available_points;return{type:h(o,i,r),icon:p(i),mainText:w(i,n),secondaryText:g(i,o,a,n)}},h=function(e,t,n){return t?e?n?"-loyalty-".concat(n):"-logged-no-tier":"-loyalty-not-logged":"-no-loyalty"},p=function(e){return{name:e?"loyalty-filled":"coupon",size:e?"-shifu-3-icon-xsm":null}},w=function(e,t){return{text:y(t,"main",e?"loyalty":"noLoyalty"),style:e?"shifu-3-subtitle-s":null}},g=function(e,t,n,o){return e?{text:y(o,"secondary","string"==typeof n&&0!=n?"points":"noPoints").replace("{points}",n),style:"shifu-3-caption"}:{text:""}},y=function(e,t,n){var o;return null==s||null===(o=s[e])||void 0===o||null===(o=o[t])||void 0===o?void 0:o[n]};function v(){if(u){var e="true"==window.ShifuConfig.isLoyaltyOn,t=window.ShifuConfig.isLogged,n=window.shifu_loyalty_info;!e||e&&!t||e&&t&&n?f():document.addEventListener("_LOYALTY_INFO_LOADED",(function(){f()}))}}function m(e,t){null!=e&&window.ShifuConfig.pageviewId?(e.pageview_id=window.ShifuConfig.pageviewId,function(e){var t=new XMLHttpRequest;t.open("POST",window.ShifuConfig.domain+"/hermes-service/topic/shifu",!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(e))}(e)):("track-init"==t&&!window.ShifuConfig.trackInitFailed||r("invalidShifuPush",{error:null==e?"NullShifuObject":"EmptyPageviewId",country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,trackingId:t||"undefined",ab:JSON.stringify(window.ShifuConfig.ab),initFailedTwice:window.ShifuConfig.trackInitFailed}),"track-init"==t&&window.ShifuConfig.setTrackInitFailed())}var S=document.querySelector("#-shifu-concierge-videocall.-option-item.-singleline a"),b=document.querySelector("#-shifu-concierge-whatsapp.-option-item.-singleline a");function C(e,t,n){var o=new XMLHttpRequest;for(var i in o.open(t||"GET",e,!0),n)o.setRequestHeader(i,n[i]);return o}function L(e,t,n,o,i,a,c,u){var l=C(e,o,i);l.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var o={};try{o=JSON.parse(this.responseText)}catch(n){r("xhr-"+t,{error:"Json Error ".concat(n),country:window.ShifuConfig.country,url:e,location:window.location.href,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient})}n(null,o)}else if(a){var i={};try{i=JSON.parse(l.responseText)}catch(e){i={code:this.status,message:l.responseText}}finally{r("xhr-"+t,{error:i,country:window.ShifuConfig.country,url:e,location:window.location.href,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient}),n(i,null)}}else n(new Error("Resource not found"),null)},c&&u&&(l.timeout=u,l.ontimeout=function(){r("xhr-"+t,{error:"timeout",country:window.ShifuConfig.country,url:e,location:window.location.href}),c()}),l.send()}function E(e,t,n,o,i,a){return new Promise((function(c,u){var l=C(e,n,o);a&&(l.timeout=a,l.ontimeout=function(){r("xhr-"+t,{error:"timeout",country:window.ShifuConfig.country,url:e,location:window.location.href}),u(new Error("Timeout"))}),l.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var n={};try{n=JSON.parse(this.responseText)}catch(n){r("xhr-"+t,{error:"Json Error ".concat(n),country:window.ShifuConfig.country,url:e,location:window.location.href,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient})}c(n)}else if(i){var o={};try{o=JSON.parse(l.responseText)}catch(e){o={code:this.status,message:l.responseText}}finally{r("xhr-"+t,{error:o,country:window.ShifuConfig.country,url:e,location:window.location.href,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient}),u(o)}}else u(new Error("Resource not found"))},l.send()}))}function x(e,t,n,o,i){var a={country:window.ShifuConfig.country,url:t,location:window.location.href,version:window.ShifuConfig.version,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,isLoyalty:window.ShifuConfig.partner.isLoyalty,duration:n};o&&(a.error=o),i&&(a.responseText=i),r(e,a)}function k(e,t,n,o,i,a){var c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=document.querySelector("body"),l=window.ShifuConfig.locale.replace("-","_"),s="";if(n)for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&n[f]&&(s+="&"+f+"="+n[f]);var d="/shifu/ajax/"+e.toUpperCase()+"?locale="+l+s,h=e.toLowerCase().replace("_","-"),p=Date.now();L(d,h,(function(n,s){if(x("fetch-ajax",d,Date.now()-p,n),r("lazyLoad",{module:e,error:n,locale:l,product:window.ShifuConfig.product,version:window.ShifuConfig.version,url:window.location.href,response:s}),n||0===Object.keys(s).length&&s.constructor===Object)return a&&a(),!1;try{if(!c)for(var f=0;f<s.css.length;f++){var h=s.css[f],w=document.createElement("link");w.setAttribute("href",h),w.setAttribute("type","text/css"),w.setAttribute("rel","stylesheet"),u.appendChild(w)}var g=document.createElement("div");g.innerHTML=s.html.trim(),t.appendChild(g.firstChild),i&&i.removeEventListener(o,k);for(var y=0;y<s.js.length;y++){var v=s.js[y],m=document.createElement("script");m.setAttribute("src",v),u.appendChild(m)}}catch(t){return r("lazyLoadModuleDomInyection",{module:e,error:t,locale:l,product:window.ShifuConfig.product,url:window.location.href,response:s}),a&&a(),!1}a&&a()}))}var _=function(e,t,n,o,i){return!!window.ShifuConfig.locale&&(e.addEventListener(t,(function a(){var c=document.querySelector("body"),u=window.ShifuConfig.locale.replace("-","_"),l="";if(i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(l+="&"+s+"="+i[s]);var f="/shifu/ajax/"+n.toUpperCase()+"?locale="+u+l,d=n.toLowerCase().replace("_","-"),h=Date.now();L(f,d,(function(i,l){if(x("fetch-ajax",f,Date.now()-h,i),r("lazyLoad",{module:n,error:i,locale:u,product:window.ShifuConfig.product,version:window.ShifuConfig.version,url:window.location.href,response:l}),i||0===Object.keys(l).length&&l.constructor===Object)return!1;try{for(var s=0;s<l.css.length;s++){var d=l.css[s],p=document.createElement("link");p.setAttribute("href",d),p.setAttribute("type","text/css"),p.setAttribute("rel","stylesheet"),c.appendChild(p)}var w=document.createElement("div");w.innerHTML=l.html.trim(),o.appendChild(w.firstChild),e&&e.removeEventListener(t,a);for(var g=0;g<l.js.length;g++){var y=l.js[g],v=document.createElement("script");v.setAttribute("src",y),c.appendChild(v)}}catch(e){return r("lazyLoadModuleDomInyection",{module:n,error:e,locale:u,product:window.ShifuConfig.product,url:window.location.href,response:l}),!1}}))})),"click"===t&&e.addEventListener("keydown",(function t(n){"Enter"===n.key&&(e.click(),e.removeEventListener("keydown",t))})),!0)},O=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return!!window.ShifuConfig.locale&&(k(e,t,n,null,null,o,i),!0)};function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,N(o.key),o)}}function j(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=A(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:t+""}const I=j((function e(t,n,o,i,r,a,c,u,l,s,f,d){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,"showedIncentives",void 0),P(this,"abResponse",void 0),P(this,"country",void 0),P(this,"partner",void 0),P(this,"channel",void 0),P(this,"flow",void 0),P(this,"product",void 0),P(this,"companyId",void 0),P(this,"device",void 0),P(this,"isLogged",void 0),P(this,"pathname",void 0),P(this,"hasMyAccount",void 0),this.showedIncentives=t,this.abResponse=n,this.country=o,this.partner=i,this.channel=r,this.flow=a,this.product=c.toLowerCase(),this.companyId=u,this.device=l,this.isLogged=s,this.pathname=f,this.hasMyAccount=d}));function q(){var e=Date.now(),t="/shifu/ajax/incentives";try{var n,o,i,r,a,c,u,l,s,f,d,h=Date.now(),p=new I(JSON.parse(localStorage.getItem("showedIncentives")||"[]"),null===(n=window.ShifuConfig)||void 0===n?void 0:n.ab,null===(o=window.ShifuConfig)||void 0===o?void 0:o.country,JSON.stringify(null===(i=window.ShifuConfig)||void 0===i?void 0:i.partner),null===(r=window.ShifuConfig)||void 0===r?void 0:r.channel,null===(a=window.ShifuConfig)||void 0===a?void 0:a.flow,null===(c=window.ShifuConfig)||void 0===c?void 0:c.product.toLowerCase(),null===(u=window.ShifuConfig)||void 0===u?void 0:u.companyId,null===(l=window.ShifuConfig)||void 0===l?void 0:l.device,null===(s=window.ShifuConfig)||void 0===s?void 0:s.isLogged,null===(f=window.location)||void 0===f?void 0:f.pathname,null===(d=window)||void 0===d||null===(d=d.ShifuConfig)||void 0===d||null===(d=d.partner)||void 0===d?void 0:d.hasMyAccount);fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then((function(e){if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((function(e){var n=document.body;if(window.ShifuConfig.incentivesToShow=e,window.ShifuConfig.incentivesToShow&&window.ShifuConfig.incentivesToShow.length>=1){var o,i,r,a,c,u,l,s,f={flow:null===(o=window.ShifuConfig)||void 0===o?void 0:o.flow,product:null===(i=window.ShifuConfig)||void 0===i?void 0:i.product,country:null===(r=window.ShifuConfig)||void 0===r?void 0:r.country,companyId:null===(a=window.ShifuConfig)||void 0===a?void 0:a.companyId,channel:null===(c=window.ShifuConfig)||void 0===c?void 0:c.channel,device:null===(u=window.ShifuConfig)||void 0===u?void 0:u.device,businessId:null===(l=window)||void 0===l||null===(l=l.ShifuConfig)||void 0===l||null===(l=l.partner)||void 0===l?void 0:l.business,wl:null===(s=window)||void 0===s||null===(s=s.ShifuConfig)||void 0===s||null===(s=s.partner)||void 0===s?void 0:s.isWL};window.ShifuConfig.incentivesToShow.forEach((function(e){"true"===window.ShifuConfig.partner.isWL&&(f.partnerId=window.ShifuConfig.partner.code,"web_push"===e.incentive_name&&(f.partnerLogoFaviconUrl=window.ShifuConfig.partner.partnerLogoFaviconUrl),"lgpd_banner"===e.incentive_name&&(f.purchaseConditionsUrl=window.ShifuConfig.partner.purchaseConditionsUrl)),"coupon_coachmark"===e.incentive_name&&(f.couponCoachmarkViewType=e.view_type),e.type&&(f.incentiveType=e.type),e.position_container_id&&document.getElementById(e.position_container_id)?O(e.incentive_name.toUpperCase(),document.getElementById(e.position_container_id),f,null):e.position_container_id?"unregistered_socrates_client"===e.incentive_name&&document.addEventListener("loaded-socrates-info",(function(){O(e.incentive_name.toUpperCase(),document.getElementById(e.position_container_id),f,null)})):O(e.incentive_name.toUpperCase(),n,f,null)}))}x("fetch-incentives",t,Date.now()-h)})).catch((function(e){x("fetch-incentives",t,Date.now()-h,"parse json - ".concat(e))}))}catch(n){x("fetch-incentives",t,Date.now()-e,"fetch-incentives inline ".concat(n))}}function B(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+e.replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function D(){var e=document.cookie.indexOf("dss=")>=0||document.cookie.indexOf("loggedLevel1=")>=0,t=document.cookie.indexOf("dss2=")>=0||document.cookie.indexOf("loggedLevel2=")>=0,n=document.cookie.indexOf("wl_session=")>=0||document.cookie.indexOf("wl_logged")>=0,o="NOT_LOGGED";return t?o="FULL_ACCESS":e?o="BASIC_INFO_ACCESS":n&&(o="LOGGED_WITH_WL_SESSION"),o}function F(e){r("shifuLocalStorageException",{error:e,product:window.product||null,url:window.location.href,navigator:navigator.userAgent})}function G(e){try{return JSON.parse(localStorage.getItem(e))}catch(e){return F(e),null}}function M(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){return F(e),null}}var U="shifuNotificationCounter";function W(e){return U+"_"+("NOT_LOGGED"===e?"not-logged":"logged")}var H=30,R="readedAt";function Y(e,t,n){if("true"!==window.ShifuConfig.partner.isWL){var o=W(D()),i=(r=R,a=H,(c=G(o))?(void 0!==c[r]&&function(e,t,n){if("number"!=typeof e[t])return!0;var o=new Date;return o.setDate(o.getDate()+n),o<new Date}(c,r,a)&&(c.expired=!0),c):null);i&&i[R]&&!i.expired||(M(o,{notificationCounter:t}),n(t))}var r,a,c}function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function V(){V=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),c=new T(o||[]);return i(a,"_invoke",{value:k(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",w="completed",g={};function y(){}function v(){}function m(){}var S={};l(S,a,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(j([])));C&&C!==n&&o.call(C,a)&&(S=C);var L=m.prototype=y.prototype=Object.create(S);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,r,a,c){var u=f(e[i],e,r);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==J(s)&&o.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function k(t,n,o){var i=d;return function(r,a){if(i===p)throw Error("Generator is already running");if(i===w){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var c=o.delegate;if(c){var u=_(c,o);if(u){if(u===g)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===d)throw i=w,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=p;var l=f(t,n,o);if("normal"===l.type){if(i=o.done?w:h,l.arg===g)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=w,o.method="throw",o.arg=l.arg)}}}function _(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var r=f(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(J(t)+" is not iterable")}return v.prototype=m,i(L,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new x(s(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(L),l(L,u,"Generator"),l(L,a,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=j,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return c.type="throw",c.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:j(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function z(e,t,n,o,i,r,a){try{var c=e[r](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(o,i)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){z(r,o,i,a,c,"next",e)}function c(e){z(r,o,i,a,c,"throw",e)}a(void 0)}))}}const K=function(){var e=X(V().mark((function e(t,n){var o,i,a,c,u,l,s,f,d,h,p;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("/shifu/ajax/LOYALTY?locale=".concat(t),"loyalty","GET",{"cache-control":"no-cache"});case 3:if((o=e.sent)&&o.html){for((i=document.createElement("div")).innerHTML=o.html.trim(),n.appendChild(i),a=i.getElementsByTagName("script"),c=0;c<a.length;c++)(u=document.createElement("script")).type="text/javascript",u.async=!0,u.innerHTML=a[c].innerHTML,n.parentNode.insertBefore(u,n);for(l=0;l<o.css.length;l++)s=o.css[l],(f=document.createElement("link")).setAttribute("href",s),f.setAttribute("type","text/css"),f.setAttribute("rel","stylesheet"),n.appendChild(f);for(d=0;d<o.js.length;d++)h=o.js[d],(p=document.createElement("script")).setAttribute("src",h),n.appendChild(p)}e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r("loyaltyAjaxPromiseError",{error:e.t0,country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,xClient:window.ShifuConfig.xClient});case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();function Q(){return(Q=X(V().mark((function e(t){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("/shifu/ajax/loyalty/despegar/balance?locale=".concat(t,"&isLoyalty=true"),"loyalty","GET",{"cache-control":"no-cache"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return $.apply(this,arguments)}function $(){return($=X(V().mark((function e(){return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E("/shifu/ajax/loyalty/wl/balance","loyaltyWLBalance","GET",{},!0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){if(e){var t=document.querySelector(".footer-links-institucional");t&&t.classList.add("-md-4");var n=document.querySelector(".footer-list-selects");n&&(n.classList.add("-md-4"),n.classList.remove("-md-6"))}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ne(e){var t,n;null!=e&&"dataLayer"in window&&window.dataLayer&&"push"in window.dataLayer&&((null==e?void 0:e.length)>0?(t=window.dataLayer).push.apply(t,function(e){if(Array.isArray(e))return te(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):window.dataLayer.push(e))}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(){ie=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),c=new T(o||[]);return i(a,"_invoke",{value:k(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",w="completed",g={};function y(){}function v(){}function m(){}var S={};l(S,a,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(j([])));C&&C!==n&&o.call(C,a)&&(S=C);var L=m.prototype=y.prototype=Object.create(S);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,r,a,c){var u=f(e[i],e,r);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==oe(s)&&o.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function k(t,n,o){var i=d;return function(r,a){if(i===p)throw Error("Generator is already running");if(i===w){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var c=o.delegate;if(c){var u=_(c,o);if(u){if(u===g)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===d)throw i=w,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=p;var l=f(t,n,o);if("normal"===l.type){if(i=o.done?w:h,l.arg===g)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=w,o.method="throw",o.arg=l.arg)}}}function _(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var r=f(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(oe(t)+" is not iterable")}return v.prototype=m,i(L,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new x(s(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(L),l(L,u,"Generator"),l(L,a,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=j,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return c.type="throw",c.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:j(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function re(e,t,n,o,i,r,a){try{var c=e[r](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(o,i)}var ae={"Content-Type":"application/json"};function ce(){return ue.apply(this,arguments)}function ue(){var e;return e=ie().mark((function e(){return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(window.ShifuConfig.evoLoginPath+"?country="+window.ShifuConfig.country.toUpperCase()+"&lang="+window.ShifuConfig.language.toLowerCase(),"login","GET",ae,!0));case 1:case"end":return e.stop()}}),e)})),ue=function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){re(r,o,i,a,c,"next",e)}function c(e){re(r,o,i,a,c,"throw",e)}a(void 0)}))},ue.apply(this,arguments)}function le(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}const se={isMobile:function(){var e=le();return 0<=e&&e<768},isTablet:function(){var e=le();return 768<=e&&e<1024},isDesktop:function(){return 1024<=le()}},fe={push:function(e){null!=e&&"dataLayer"in window&&window.dataLayer&&"push"in window.dataLayer&&window.dataLayer.push(e)}};function de(e,t){null!=e&&window.ShifuConfig.pageviewId?(e.pageview_id=window.ShifuConfig.pageviewId,function(e){var t=new XMLHttpRequest;t.open("POST","/hermes-service/topic/shifu",!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(e))}(e)):("track-init"==t&&!window.ShifuConfig.trackInitFailed||r("invalidShifuPush",{error:null==e?"NullShifuObject":"EmptyPageviewId",country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,trackingId:t||"undefined",ab:JSON.stringify(window.ShifuConfig.ab),initFailedTwice:window.ShifuConfig.trackInitFailed}),"track-init"==t&&window.ShifuConfig.setTrackInitFailed())}var he=function(e,t,n){if(e&&(t||n)){var o="over"===n.type?"mouseover":"click";e.addEventListener(o,(function(t){"_blank"!==e.target&&e.href?(t.preventDefault(),de(n),!e.getAttribute("product")&&e.href&&(window.location=e.href)):de(n)}))}};const pe=function(e,t,n){for(var o=e.getElementsByTagName("a"),i=0;i<o.length;i++)t(o[i],n)},we=function(e,t){var n=e.getAttribute("data-action"),o=e.getAttribute("label")||null,i=o&&"logged"===o&&se.isDesktop(),r=null,a=null;n&&!i&&(r=function(e){var t=(e||"").split("-");return{type:t[1],item:t[0],eventtype:"event"}}(n),a=function(e,t){return{event:"user-action",eventCategory:t,eventAction:e.toLowerCase()}}(n,t),o&&(a.eventLabel=o)),he(e,a,r)},ge=function(){var e={flow:window.ShifuConfig.flow?window.ShifuConfig.flow.toLowerCase():"",version:window.ShifuConfig.version,type:"init",channel:("init",window.ShifuConfig&&window.ShifuConfig.channel?window.ShifuConfig.channel:(r("channelNotDefined",{country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,eventCaller:"init"}),"site")),pageview_id:window.ShifuConfig.pageviewId,eventtype:"init",xClient:window.ShifuConfig.xClient,company_id:window.ShifuConfig.companyId,country:window.ShifuConfig.country};window.ShifuConfig.product&&(e.product=window.ShifuConfig.product.toLowerCase()),window.ShifuConfig.ab&&(e.ab=JSON.stringify(window.ShifuConfig.ab)),de(e,"track-init")},ye=function(){return void 0!==window.performance&&window.performance?Math.round(window.performance.now()):0};var ve=document.querySelector(".shifu-3-header"),me=document.querySelector(".shifu-3-footer");const Se={tracking:function(){if(ve){var e=ve.querySelector(".header-autogestion-container");e&&pe(e,we,"shifu-utilities")}me&&pe(me,we,"shifu-footer")},push:fe.push,trackShifu:de,trackUpa:function(e){null!=e&&(window.UpaDataTracker?window.UpaDataTracker.send(e):void 0!==window.newrelic&&"function"==typeof window.newrelic.addPageAction&&window.newrelic.addPageAction("shifuTrackerError",{error:"Upa object is not defined.",url:window.location.href,navigator:navigator.userAgent,upaObject:e}||{}))}};function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Ce=["2825","2875","3212","3211"],Le=["bestday","falabella","viajanet"],Ee={notLogged:["mybenefits"],logged:["myprofile","logout"]};function xe(e){!function(e){var t,n,o,i,r="/shifu/ajax/menu/items",c=r+"/notLogged",u=r+"/logged",s=(null===(t=window.ShifuConfig)||void 0===t?void 0:t.isLogged)||!1,f=null!==(n=window.ShifuConfig)&&void 0!==n&&n.domain?null===(o=window.ShifuConfig)||void 0===o?void 0:o.domain.replace("//",""):window.location.hostname;i=s?u:c;var d=a("shifuPlannerLink","enabled_true"),h=l();i+="?country="+window.ShifuConfig.country.toUpperCase()+"&lang="+window.ShifuConfig.language.toLowerCase()+"&domain="+f,s&&(i+="&abTripPlanner="+!!d),h&&(i+="&abBenefitsAccess=".concat(!!h)),"true"===window.ShifuConfig.partner.isWL&&(i+="&partnerId="+window.ShifuConfig.partner.code),window.shifuTimes.menuStr=ye(),L(i,"menu-items",e,"GET",{"Content-Type":"application/json"},!0)}((function(t,n){var o,i;if(window.shifuTimes.menuEnd=ye(),document.dispatchEvent(new CustomEvent("menuEnd")),window.log=n,r("userItems",{error:t,data:JSON.stringify(n),partnerCode:window.ShifuConfig.partner.code,isWL:window.ShifuConfig.partner.isWL,isAgency:window.ShifuConfig.partner.isAgency,country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient}),t&&!window.ShifuConfig.isLogged&&Oe(n={items:[ke("login",window.ShifuConfig.language)]}),"true"===(null===(o=window)||void 0===o||null===(o=o.ShifuConfig)||void 0===o||null===(o=o.partner)||void 0===o?void 0:o.isAgency)){var c=window.ShifuConfig.language||"es",u=ke(window.ShifuConfig.isLogged?"logout":"login",c),l=[];a("shifuAgencyNavTools","enabled_true")&&(l=function(){try{return JSON.parse(window.ShifuConfig.partner.agencyMenuLinks)}catch(e){return[]}}()||[]);var s=[].concat(function(e){if(Array.isArray(e))return be(e)}(i=l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[u]);return Oe({items:s}),void(e&&e({items:s}))}var f=Ce.includes(window.ShifuConfig.companyId);if(window.ShifuConfig.partner&&"true"===window.ShifuConfig.partner.isWL&&window.ShifuConfig.isLogged){var d=a("shifuPlannerLink","enabled_true"),h=Le.includes(window.ShifuConfig.partner.business)&&"false"===window.ShifuConfig.partner.isAgency,p=[];window.ShifuConfig.myTripsUrl&&p.push(ke("booking",window.ShifuConfig.language)),h&&(d?p.push(ke("myfavoritesLinkToPlanner",window.ShifuConfig.language)):(p.push(ke("tripPlanner",window.ShifuConfig.language)),p.push(ke("myfavorites",window.ShifuConfig.language)))),f&&(p.push(ke("myOpinions",window.ShifuConfig.language)),d?p.push(ke("passportBenefits",window.ShifuConfig.language)):p.push(ke("passportBenefitsNotNew",window.ShifuConfig.language))),"true"===window.ShifuConfig.partner.hasMyAccount&&p.push(ke("account",window.ShifuConfig.language)),p.push(ke("logout",window.ShifuConfig.language)),Oe(n={items:p})}else t||(f&&(n||(n={}),n.items||(n.items=[]),n.items.unshift(ke("passportBenefits",window.ShifuConfig.language))),Oe(n));e&&e(n)}))}function ke(e,t){return{es:{booking:{label:"Mis viajes",link:window.ShifuConfig.myTripsUrl,tracking:"mytrip"},account:{label:"Mi perfil",link:"/me/account",tracking:"myprofile"},tripPlanner:{label:"Planes de viaje",link:"/informacion/board-planesdeviaje",new_item:!0,new_item_circle:!1,tracking:"tripPlanner"},logout:{label:"Cerrar sesión",action:"DespegarSocialLogout.logout()",tracking:"logout"},login:{label:"Iniciar sesión",action:"DespegarSocialLogout.login()",tracking:"login"},myfavorites:{label:"Favoritos",link:"/favoritos",tracking:"myfavorites"},myfavoritesLinkToPlanner:{label:"Favoritos",link:"/informacion/board-planesdeviaje",tracking:"myfavorites"},myOpinions:{label:"Mis Opiniones",link:"/me/surveys",tracking:"mysurveys"},passportBenefits:{label:"Cupones",link:"/beneficios",new_item:!0,new_item_circle:!0,tracking:"mybenefits"},passportBenefitsNotNew:{label:"Cupones",link:"/beneficios",new_item:!1,new_item_circle:!1,tracking:"mybenefits"}},pt:{booking:{label:"Minhas Viagens",link:window.ShifuConfig.myTripsUrl,tracking:"mytrip"},account:{label:"Meu Perfil",link:"/me/account",tracking:"myprofile"},tripPlanner:{label:"Roteiros de viagem",link:"/informacao/board-roteirosdeviagem",new_item:!0,new_item_circle:!1,tracking:"tripPlanner"},logout:{label:"Sair",action:"DespegarSocialLogout.logout()",tracking:"logout"},login:{label:"Iniciar sessão",action:"DespegarSocialLogout.login()",tracking:"login"},myfavorites:{label:"Favoritos",link:"/favoritos",tracking:"myfavorites"},myfavoritesLinkToPlanner:{label:"Favoritos",link:"/informacao/board-roteirosdeviagem",tracking:"myfavorites"},myOpinions:{label:"Minhas opiniões",link:"/me/surveys",tracking:"mysurveys"},passportBenefits:{label:"Cupons",link:"/beneficios",new_item:!0,new_item_circle:!0,tracking:"mybenefits"},passportBenefitsNotNew:{label:"Cupons",link:"/beneficios",new_item:!1,new_item_circle:!1,tracking:"mybenefits"}},en:{booking:{label:"My trips",link:window.ShifuConfig.myTripsUrl,tracking:"mytrip"},account:{label:"My profile",link:"/me/account",tracking:"myprofile"},tripPlanner:{label:"Travel Guides",link:"/information/board-travelguides",new_item:!0,new_item_circle:!1,tracking:"tripPlanner"},logout:{label:"Log out",action:"DespegarSocialLogout.logout()",tracking:"logout"},login:{label:"Login",action:"DespegarSocialLogout.login()",tracking:"login"},myfavorites:{label:"Favorites",link:"/favorites",tracking:"myfavorites"},myfavoritesLinkToPlanner:{label:"Favorites",link:"/information/board-travelguides",tracking:"myfavorites"},myOpinions:{label:"My reviews",link:"/me/surveys",tracking:"mysurveys"},passportBenefits:{label:"Coupons",link:"/beneficios",new_item:!0,new_item_circle:!0,tracking:"mybenefits"},passportBenefitsNotNew:{label:"Coupons",link:"/beneficios",new_item:!1,new_item_circle:!1,tracking:"mybenefits"}}}[t][e]}var _e=function(e,t){var n=e.querySelectorAll(".passport-data-container"),o=e.querySelectorAll(".coupons-data-container");o.length>0?!0===G("shifu-menu-header-coupons-data-clicked")||o.forEach((function(e){e.classList.add("-highlighted-icon")})):t&&n.length>0&&(!0===G("shifu-menu-header-passport-data-clicked")||n.forEach((function(e){e.classList.add("-highlighted-icon")})))};function Oe(e){var t,n,o=null===(t=window.ShifuConfig)||void 0===t?void 0:t.isLogged,i=o?document.querySelector(".logged-common"):document.querySelector(".not-logged"),r=null!==(n=window.ShifuConfig)&&void 0!==n&&n.isLogged?i.querySelectorAll(".shifu-menu-items"):document.querySelectorAll("#not-logged-menu-item"),a=document.querySelectorAll(".passport-coupons-data-container a");if(e.header){var c=i.querySelectorAll(".passport-coupons-data-container"),u=i.querySelectorAll(".passport-data-container"),l=i.querySelectorAll(".coupons-data-container");c&&(u&&u.forEach((function(t){t&&(e.header.passport?(t.querySelector(".shifu-3-subtitle-s").textContent=e.header.passport.title,t.querySelector(".shifu-3-caption").textContent=e.header.passport.subtitle,t.addEventListener("click",(function(){M("shifu-menu-header-passport-data-clicked",!0)}))):t.remove())})),l&&l.forEach((function(t){t&&(e.header.coupon?(t.querySelector(".shifu-3-subtitle-s").textContent=e.header.coupon.title,t.querySelector(".shifu-3-caption").textContent=e.header.coupon.subtitle,t.addEventListener("click",(function(){M("shifu-menu-header-coupons-data-clicked",!0)}))):t.remove())})),_e(i,o),c.forEach((function(e){e.classList.remove("-shifu-3-hide")})))}e.items&&e.items.forEach((function(e){if(void 0!==e){var t=document.createElement("li");t.classList.add("tooltip-item");var n=document.createElement("a");if(n.classList.add("menu-login-padding"),e.link&&n.setAttribute("href",e.link),e.tracking&&(n.setAttribute("data-action",e.tracking),t.classList.add(e.tracking)),"logout"===e.tracking&&(n.classList.add("tooltip-text-logout"),t.classList.add("tooltip-item-logout")),"login"===e.tracking&&n.classList.add("loginButton"),void 0!==e.label&&(n.textContent=e.label),e.icon_class){t.classList.add("menu-icon-padding");var i=document.createElement("i");i.classList.add("header-icon",e.icon_class),n.appendChild(i)}if(e.new_item){var a=function(e){var t={es:"Nuevo",en:"New",pt:"Novo"}[window.ShifuConfig.language.toLowerCase()],n=document.createElement("span");n.classList.add("new-element-advise-container");var o=document.createElement("span");if(o.textContent=t,o.classList.add("new-element-advise"),n.appendChild(o),e){var i=document.createElement("div");i.classList.add("red-circle-new-element"),n.appendChild(i)}return n}(e.new_item_circle);n.appendChild(a)}if("passport"===e.tracking){t.classList.add("menu-icon-padding","menu-icon-passport");var c=((p=document.createElement("img")).classList.add("header-icon"),p.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFeSURBVHgB1ZRBSsNAFIb/CW2pkMUUEcSNwZW4MXgB041bF57Aa7jqyuu4kroQegSL4NqiohUKjaCY0rTjm47BTMRk2oyF/pAJ85j838yb98KwoES77aFWCzCBD8c5pJCHKZrsqNlNr6sYm1WrPqYsILN9Cvn0cAgandRCRrGMfgHERYfDjcnA8cFmOwtmZsiYGUoDiOvOjdqd0cGMxDTAWUugvEJ23mokkwUOXSjtHv4DgKUC8m+T02knY2Ac6/FoBDuAk2NgxwOe+8B9j4wjFf+M1Lz/iiKZpWhrEzig6q3X1XyN3nu71LvbhZ+a30FimpY8HeewA5BqkFklk9WNddgDSLmuPk/SZg0wp+YDyCoKQz02GMAeQJZrFjh8gx3Aw5Oq/bT57d1Pb/yh/EaTjTQigxfa+fA7NbKr3z+ARwLGMYqUD7i8Qlmt/t9UBzB0YVk6QOCUxh7KiEFrlC9De1cEuw0zVwAAAABJRU5ErkJggg==",p);n.appendChild(c)}if(e.count&&e.count>0){var u=document.createElement("div");u.classList.add("menu-notification-container");var l=document.createElement("span");l.classList.add("notification-inbox-container");var s=document.createTextNode(e.count),f=document.createElement("span");f.classList.add("notification-circle-text"),f.appendChild(s);var d=document.createElement("span");d.classList.add("shifu-3-notification-circle"),d.classList.add("-sm"),l.appendChild(d),l.appendChild(f),u.appendChild(n),u.appendChild(l),t.appendChild(u)}else t.appendChild(n);var h=t.cloneNode(!0);r[0]&&r[0].appendChild(t),r[1]&&r[1].appendChild(h),function(e,t,n){var o;if(null==Ee||null===(o=Ee[t?"logged":"notLogged"])||void 0===o?void 0:o.includes(n)){var i=document.createElement("span");i.classList.add("-menu-separator"),e[0]&&e[0].appendChild(i),e[1]&&e[1].appendChild(i.cloneNode(!0))}}(r,o,e.tracking)}var p}));var s=i.querySelectorAll(".tooltip-text-logout");a.forEach((function(e){e.addEventListener("click",(function(){var t,n=null==e||null===(t=e.dataset)||void 0===t?void 0:t.type;n&&m({type:"click",eventtype:"event",item:"menu_logged_item",label:n})}))})),function(e){for(var t=0;t<e.length;t++)for(var n=e[t].querySelectorAll("a"),o=function(){if(n[i].getAttribute("data-action")){var e=n[i].getAttribute("data-action");n[i].addEventListener("click",(function(){m({type:"click",eventtype:"event",item:"menu_logged_item",label:e})}))}},i=0;i<n.length;i++)o()}(r);for(var f=0;f<s.length;f++)s[f].addEventListener("click",(function(e){Ae(e)}))}function Ae(e){var t,n,o;Se.push({event:"user-action",category:"shifu-social",action:"social-logout"}),t=function(e){e||window.location.reload()},o=window.ShifuConfig.domain+"/login/evo/logout?country="+window.ShifuConfig.country.toUpperCase()+"&lang="+window.ShifuConfig.language.toLowerCase(),null!==window.ShifuConfig.companyId&&(o+="&company="+window.ShifuConfig.companyId),null!==(n=window)&&void 0!==n&&null!==(n=n.ShifuConfig)&&void 0!==n&&n.logOutUrl&&""!==window.ShifuConfig.logOutUrl&&(t=function(e){e||(window.location.href=window.ShifuConfig.logOutUrl)}),L(o,"logout",t,"POST",ae,!0),e.stopPropagation()}function Te(){return!!B("X-ClientInfo")}function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Pe(){Pe=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),c=new T(o||[]);return i(a,"_invoke",{value:k(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",w="completed",g={};function y(){}function v(){}function m(){}var S={};l(S,a,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(j([])));C&&C!==n&&o.call(C,a)&&(S=C);var L=m.prototype=y.prototype=Object.create(S);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,r,a,c){var u=f(e[i],e,r);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==je(s)&&o.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function k(t,n,o){var i=d;return function(r,a){if(i===p)throw Error("Generator is already running");if(i===w){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var c=o.delegate;if(c){var u=_(c,o);if(u){if(u===g)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===d)throw i=w,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=p;var l=f(t,n,o);if("normal"===l.type){if(i=o.done?w:h,l.arg===g)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=w,o.method="throw",o.arg=l.arg)}}}function _(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var r=f(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(je(t)+" is not iterable")}return v.prototype=m,i(L,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new x(s(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(L),l(L,u,"Generator"),l(L,a,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=j,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return c.type="throw",c.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:j(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function Ne(e,t,n,o,i,r,a){try{var c=e[r](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(o,i)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){Ne(r,o,i,a,c,"next",e)}function c(e){Ne(r,o,i,a,c,"throw",e)}a(void 0)}))}}G("DEBUGGSI");var qe={es:"Beneficios Pasaporte",pt:"Benefícios Passaporte"},Be={notLogged:function(){return document.querySelector(".not-logged")}},De=function(e){var t=Be.notLogged();t&&t.classList.remove("-shifu-3-hide"),function(e){var t,n=Be.notLogged();n&&(t=n,["click","closeModal"].forEach((function(e){t.addEventListener(e,(function(n){var o,i,r,c,u,l,s;"click"===e&&"a"===n.target.tagName.toLowerCase()&&""===n.target.href&&n.preventDefault(),function(e,t){var n;se.isDesktop()?n="tooltip":se.isMobile()&&(n="modal");var o=window.ShifuConfig.flow,i=document.querySelector(".shifu-tooltip-menu-basic.-shifu-concierge-menu .shifu-3-tooltip");if(n){var r=e.querySelector("#not-logged-"+n);if(r)if("click"===t){if("modal"===n){var c=e.querySelector("#not-logged-modal .shifu-3-icon-arrow-bold-left");c.onclick||(c.onclick=function(e){document.body.classList.remove("not-scrolleable"),r.classList.remove("-show-"+n),e.preventDefault(),e.stopPropagation()}),document.body.classList.add("not-scrolleable"),Ke(r,n)}if("tooltip"===n&&(Ke(r,n),Xe||(document.body.addEventListener("click",(function(){r.classList.remove("-show-tooltip")})),Xe=!0),a("shifuMenuConciergeV2","enabled_true")&&("search"==o||"home"==o||"landing"==o)&&i.classList)){i.classList.remove("-show-tooltip");var u=document.querySelector(".concierge-container .header-chevron-container i");u&&u.classList&&(u.classList.remove("shifu-3-icon-chevron-up"),u.classList.add("shifu-3-icon-chevron-down"))}}else"closeModal"===t&&(document.body.classList.remove("not-scrolleable"),r.classList.remove("-show-"+n))}}(t,e),"click"===e&&(l=W(D()),s=Date.now(),r=R,c=s,(u=G(i=l))&&(u[r]=c,M(i,u)),(o=document.querySelector(".header-notification-circle"))&&(o.style="display:none"),n.stopPropagation())}))})),xe(Qe.bind(this,e)))}(e)},Fe=function(){var e=Ie(Pe().mark((function e(){var t,n,o;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.querySelector(".login-site .available-points"))){e.next=4;break}return e.next=4,K(window.ShifuConfig.language+"_"+window.ShifuConfig.country,t);case 4:n=l(),o="true"===window.ShifuConfig.isLoyaltyOn,n&&o&&Ge();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=document.querySelectorAll(".loyalty-passport-benefits-title");if(e){var t=window.ShifuConfig.language,n=qe[t];n&&e.forEach((function(e){e.textContent=n,e.classList.add("shifu-3-subtitle-s")}))}},Me=function(){var e=document.getElementById("logged-white-label"),t=document.querySelector(".login-white-label .available-points");if(t&&window.ShifuConfig.partner&&"true"==window.ShifuConfig.partner.isLoyalty){var n=new CustomEvent("loyaltyWLBalance");Z().then((function(n){n&&(t.innerHTML=t.innerHTML.replace("{0}",n.available_points.toLocaleString().replace(/,/g,".")),e.classList.add("have-points"),window.loyaltyWLBalance=n)})).catch((function(e){r("failLoyaltyWLBalance",{error:e,country:window.ShifuConfig.country,partnerId:window.ShifuConfig.partner.code,location:window.location.href,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient})})).finally((function(){document.dispatchEvent(n)}))}};function Ue(e,t){var n=t.querySelector(".shifu-3-avatar");if(n&&e.picture_url){var o=document.createElement("img");return o.classList.add("avatar-image"),o.src=e.picture_url,o.alt=e.name||e.email,n.appendChild(o),!0}n.classList.add("-icon");var i=document.createElement("span");i.classList.add("avatar-icon");var r=document.createElement("i");r.classList.add("shifu-3-icon-user"),i.appendChild(r),n.appendChild(i)}function We(e){return He.apply(this,arguments)}function He(){return(He=Ie(Pe().mark((function e(t){var n,o;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=document.querySelector(".logged-common"))){e.next=14;break}return window.loggedEmail=t.email,ne({userEmail:t.email}),Je(),o=n.querySelector(".userName"),Ue(t,n),t.name||t.email?o.innerHTML=t.name||t.email:r("failLoginInfo",{error:"No name or email",data:JSON.stringify(t),country:window.ShifuConfig.country,isLazyLogin:!1,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,location:window.location.href,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient}),window.ShifuConfig.isLogged=!0,Me(),e.next=12,Fe();case 12:n.classList.remove("-shifu-3-hide"),"checkout"===window.ShifuConfig.flow&&Ye();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){var t,n,o=document.createElement("span");o.textContent=e,o.classList.add("notification-circle-text");var i=document.createElement("span");i.appendChild(o),i.classList.add("shifu-3-notification-circle"),i.classList.add("header-notification-circle");var r=null!==(t=window.ShifuConfig)&&void 0!==t&&t.isLogged?document.querySelector(".logged"):Be.notLogged();null==r||null===(n=r.querySelector(".avatar-circle-notifications"))||void 0===n||n.appendChild(i)}function Ye(){var e=document.getElementById("userStatus");e&&e.classList.remove("-shifu-3-hide");var t=document.querySelector(".help-checkout");t&&t.classList.add("-shifu-3-hide")}function Je(){var e=document.createEvent("HTMLEvents");e.initEvent("UserStatus",!0,!0);var t=document.querySelector(".avatar-lazy");t&&t.dispatchEvent(e)}function Ve(e){return ze.apply(this,arguments)}function ze(){return(ze=Ie(Pe().mark((function e(t){var n,o,i,a,c,u;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D(),o=document.querySelector(".not-logged"),i=document.getElementById("logged-white-label"),a={count:1},!Te()){e.next=8;break}window.ShifuConfig.isLogged="NOT_LOGGED"!==n,e.next=33;break;case 8:if(o||i){e.next=12;break}return e.abrupt("return",!1);case 12:if("NOT_LOGGED"===n){e.next=29;break}return e.prev=13,e.next=16,ce();case 16:return c=e.sent,e.next=19,We(c);case 19:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(13),"checkout"!==window.ShifuConfig.flow&&De(),r("failLoginInfo",{error:e.t0,isLazyLogin:!1,country:window.ShifuConfig.country,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,location:window.location.href,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient});case 26:document.addEventListener("_LOYALTY_INFO_LOADED",(function(){ee("shifu_loyalty_info"in window&&"status"in window.shifu_loyalty_info&&window.shifu_loyalty_info.status)})),e.next=33;break;case 29:("beneficios-despegar"!==(null===(u=window.ShifuConfig)||void 0===u||null===(u=u.partner)||void 0===u?void 0:u.channel)||B("wl_session"))&&De(t.product),window.ShifuConfig.isLogged=!1,L("/shifu/ajax/loyalty/"+(window.ShifuConfig.country?window.ShifuConfig.country.toUpperCase():""),"loyalty-footer",(function(e,t){e?r("loyaltyFooter",{error:"Error: ajax ",locale:window.locale}):ee(t)}));case 33:Y(0,a.count,(function(e){Re(e)}));case 34:case"end":return e.stop()}}),e,null,[[13,22]])})))).apply(this,arguments)}var Xe=!1;function Ke(e,t){if(null!=e&&e.classList){var n="-show-"+t;e.classList.contains(n)?"modal"!==t&&e.classList.remove(n):(null!==(o=window.google)&&void 0!==o&&null!==(o=o.accounts)&&void 0!==o&&o.id&&google.accounts.id.cancel(),document.querySelectorAll(".shifu-3-tooltip").forEach((function(e){e.classList.remove("-show-tooltip")})),e.classList.add(n),m({type:"show",eventtype:"event",item:"shifu_not_logged_menu"}))}var o}function Qe(e){var t=document.querySelectorAll(".loginButton");t&&t.forEach((function(t){t.addEventListener("click",(function(){var t="/login?ref=header-"+e+"&redirect_to="+encodeURIComponent(window.location.pathname+window.location.search),n=null;"shifuLoginBackTo"in window&&(n="back_to_last"===window.shifuLoginBackTo?"&back_to="+document.location.pathname:"&back_to="+window.shifuLoginBackTo),window.location.href=n?t+n:t}))}))}var Ze={despegar:{AR:100,BR:100,MX:100,CO:100,CL:100,PE:100,EC:100,UY:100}},$e=function(e,t){var n=e||"despegar",o=function(e,t){var n=Ze[e];return n?n[t.toUpperCase()]:void 0}(n,t);return o?function(e){var t=function(){var e=B("trackerid");if(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Math.abs(t)%100}}();return!!t&&t<e}(o):"despegar"!==n};function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(){tt=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),c=new T(o||[]);return i(a,"_invoke",{value:k(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",w="completed",g={};function y(){}function v(){}function m(){}var S={};l(S,a,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(j([])));C&&C!==n&&o.call(C,a)&&(S=C);var L=m.prototype=y.prototype=Object.create(S);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,r,a,c){var u=f(e[i],e,r);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==et(s)&&o.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function k(t,n,o){var i=d;return function(r,a){if(i===p)throw Error("Generator is already running");if(i===w){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var c=o.delegate;if(c){var u=_(c,o);if(u){if(u===g)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===d)throw i=w,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=p;var l=f(t,n,o);if("normal"===l.type){if(i=o.done?w:h,l.arg===g)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=w,o.method="throw",o.arg=l.arg)}}}function _(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var r=f(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(et(t)+" is not iterable")}return v.prototype=m,i(L,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new x(s(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(L),l(L,u,"Generator"),l(L,a,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=j,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return c.type="throw",c.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:j(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function nt(e,t,n,o,i,r,a){try{var c=e[r](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(o,i)}var ot={"Content-Type":"application/json"},it=document.querySelectorAll("#phone .header-banner-top-link"),rt=document.querySelector("#phone #desktop-phone-number"),at=document.querySelector("#phone #mobile-phone-number"),ct=document.querySelector(".footer-phone-postsales .footer-phone-link"),ut=document.querySelector("#footer-post-sale-phone"),lt=document.querySelectorAll(".footer-phone-sales .footer-phone-link"),st=document.querySelector(".footer-phone-sales .footer-phone-link #phone-sale-footer-desktop-number"),ft=document.querySelector(".footer-phone-sales .footer-phone-link #phone-sale-footer-mobile-number"),dt=rt||at,ht=st||ft,pt=ut&&ct;function wt(){if(!Te()&&"CO"===window.ShifuConfig.country){var e=document.querySelector(".footer-telephone-info");e&&e.classList.remove("-shifu-3-hide")}}function gt(e){var t=e.whitelabel||e.sale;if(t&&dt){for(var n=0;n<it.length;n++)it[n].classList.contains("no-href")||it[n].setAttribute("href","tel:"+t),it[n].classList.remove("-shifu-3-hide");rt&&(rt.innerHTML=t),at&&(at.innerHTML=t),St("header")}}function yt(e){var t=e.whitelabel||e.sale;if(t&&ht){for(var n=0;n<lt.length;n++)lt[n].setAttribute("href","tel:"+t),lt[n].classList.remove("-shifu-3-hide");st&&(st.innerHTML=t),ft&&(ft.innerHTML=t)}}function vt(e){return mt.apply(this,arguments)}function mt(){var e;return e=tt().mark((function e(t){var n,o,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(St("footer"),n=["home","search","landing","landing:results","landing:detail","detail","inter"],!((dt||ht||pt)&&t.flow&&n.includes(t.flow)&&(u=t.partner.code,l=t.country,$e(u,l)||(void 0,c="shifuDraperCallcenterHeaderBannerGloba",a(c,"callcenter_header")||a(c,"callcenter_headerBannerGloba")||a(c,"callcenter_headerGloba")||a(c,"callcenter_headerBanner"))))){e.next=17;break}return o="/shifu/ajax/phone?country="+t.country.toUpperCase(),window.ShifuConfig.partner&&"true"===window.ShifuConfig.partner.isWL&&(o+="&partnerId="+t.partner.code),t.device&&(o+="&device="+t.device),e.prev=7,e.next=10,E(o,"phone","GET",ot,!1,2500);case 10:(i=e.sent)&&Object.keys(i).length>0&&(gt(i),yt(i),wt()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),r("failAjaxPhone",{error:e.t0,phoneUrl:o,country:window.ShifuConfig.country,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient});case 17:case"end":return e.stop()}var c,u,l}),e,null,[[7,14]])})),mt=function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){nt(r,o,i,a,c,"next",e)}function c(e){nt(r,o,i,a,c,"throw",e)}a(void 0)}))},mt.apply(this,arguments)}function St(e){var t=document.querySelector("body"),n="show-phone-"+e;t.classList.contains(n)||t.classList.add(n)}function bt(){var e=document.querySelector(".header-autogestion-container");if(window.shifuElementsVisibility.hasSelfManagement=!!e,e){var t=window.ShifuConfig.showAutogestionInWebview&&"true"===window.ShifuConfig.showAutogestionInWebview;window.ShifuConfig.isWebview&&!t&&(window.shifuElementsVisibility.hideSelfManagementWebview=!0,e.style="display:none"),e.classList.remove("-loading")}window.shifuElementsVisibility.hideSelfManagement=e&&"none"===e.style.display}var Ct="shifuAgencyNavTools";function Lt(){var e,t,n,o=B("obosid"),i=(null===(e=window)||void 0===e||null===(e=e.ShifuConfig)||void 0===e?void 0:e.device)||void 0,r="true"===(null===(t=window)||void 0===t||null===(t=t.ShifuConfig)||void 0===t||null===(t=t.partner)||void 0===t?void 0:t.isAgency),c=a(Ct,"enabled_true")&&"DESKTOP"===i;if(r){var u=c?"customer-interaction-container":"customer-interaction-pre-header-container",l=document.getElementById(u);l&&(c||!c&&o)?(c&&(n=document.querySelector(".header-autogestion.autogestion-white-label"))&&Et.forEach((function(e){var t=n.querySelector("#".concat(e));t&&t.classList.add("-shifu-3-hide")})),O("SOCRATES_USER_INFO",l,{currentUserId:o,device:i,agencyNavToolsAbBranch:c},(function(){xt(c)}))):xt(c)}}var Et=["back-menu-language","help","phone","cmrPoints","myTrip"];function xt(e){var t=e?document.querySelector(".agency-nav-tools"):document.querySelector(".pre-header");t&&t.classList.remove("-shifu-3-hide")}function kt(){var e,t;null!==(e=window.ShifuConfig)&&void 0!==e&&e.showDebugInfo&&(t=c()?document.querySelector("shifu-header-component"):document.querySelector(".shifu-3-header"))&&O("DEBUG_INFO",t)}function _t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.body;if((window.ShifuConfig.floatButton&&"FLOAT_BUTTON_NOT_APPLY"!==window.ShifuConfig.floatButton||t)&&n){var o,i,r,a,c,u,l,s,f,d,h,p={flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,country:window.ShifuConfig.country,companyId:window.ShifuConfig.companyId,channel:window.ShifuConfig.channel,dates:(null===(o=window)||void 0===o||null===(o=o.ShifuConfig)||void 0===o?void 0:o.dates)||void 0,destination:(null===(i=window)||void 0===i||null===(i=i.ShifuConfig)||void 0===i?void 0:i.destination)||void 0,di:(null===(r=window)||void 0===r||null===(r=r.ShifuConfig)||void 0===r?void 0:r.di)||void 0,origin:(null===(a=window)||void 0===a||null===(a=a.ShifuConfig)||void 0===a?void 0:a.origin)||void 0,checkoutPrice:(null===(c=window)||void 0===c||null===(c=c.ShifuConfig)||void 0===c?void 0:c.checkoutPrice)||void 0,checkoutCode:(null===(u=window)||void 0===u||null===(u=u.ShifuConfig)||void 0===u?void 0:u.checkoutCode)||void 0,device:(null===(l=window)||void 0===l||null===(l=l.ShifuConfig)||void 0===l?void 0:l.device)||void 0,isLogged:(null===(s=window)||void 0===s||null===(s=s.ShifuConfig)||void 0===s?void 0:s.isLogged)||void 0,tripStatus:(null===(f=window)||void 0===f||null===(f=f.ShifuConfig)||void 0===f?void 0:f.tripStatus)||void 0,loyaltyTier:(null===(d=window)||void 0===d||null===(d=d.ShifuConfig)||void 0===d?void 0:d.loyaltyTier)||void 0,paymentMethods:(null===(h=window)||void 0===h||null===(h=h.ShifuConfig)||void 0===h?void 0:h.paymentMethods)||void 0};"true"===window.ShifuConfig.partner.isWL&&(p.partnerId=window.ShifuConfig.partner.code),window.ShifuConfig.ab&&(p.ab=JSON.stringify(window.ShifuConfig.ab)),window.location.pathname&&(p.pathname=encodeURIComponent(window.location.pathname)),O("FLOAT_BUTTON",n,p,e,t)}else e&&e()}function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}document.addEventListener("updateShifuConfig",(function(e){if(null!=e.detail.paymentMethods&&window.ShifuConfig.floatButtonRealName){var t=document.getElementById("float-button-main-wrapper");t&&(t.addEventListener("transitionend",(function(){t.parentNode.removeChild(t),_t(null,!0)})),t.classList.add("-float-button-hide"))}else _t(null,!0)}));function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){var o,i,r,a;o=e,i=t,r=n[t],a=function(e,t){if("object"!=At(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=At(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i),(i="symbol"==At(a)?a:a+"")in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){var o,i,r,a;o=e,i=t,r=n[t],a=function(e,t){if("object"!=Pt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=Pt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i),(i="symbol"==Pt(a)?a:a+"")in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Bt(){Bt=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",u=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var r=t&&t.prototype instanceof y?t:y,a=Object.create(r.prototype),c=new T(o||[]);return i(a,"_invoke",{value:k(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",w="completed",g={};function y(){}function v(){}function m(){}var S={};l(S,a,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(j([])));C&&C!==n&&o.call(C,a)&&(S=C);var L=m.prototype=y.prototype=Object.create(S);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,r,a,c){var u=f(e[i],e,r);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==qt(s)&&o.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(s).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var r;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){n(e,o,t,i)}))}return r=r?r.then(i,i):i()}})}function k(t,n,o){var i=d;return function(r,a){if(i===p)throw Error("Generator is already running");if(i===w){if("throw"===r)throw a;return{value:e,done:!0}}for(o.method=r,o.arg=a;;){var c=o.delegate;if(c){var u=_(c,o);if(u){if(u===g)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===d)throw i=w,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=p;var l=f(t,n,o);if("normal"===l.type){if(i=o.done?w:h,l.arg===g)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(i=w,o.method="throw",o.arg=l.arg)}}}function _(t,n){var o=n.method,i=t.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var r=f(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function n(){for(;++i<t.length;)if(o.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(qt(t)+" is not iterable")}return v.prototype=m,i(L,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,o,i,r){void 0===r&&(r=Promise);var a=new x(s(e,n,o,i),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(L),l(L,u,"Generator"),l(L,a,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=j,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(o,i){return c.type="throw",c.arg=t,n.next=o,i&&(n.method="next",n.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:j(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){var o,i,r,a;o=e,i=t,r=n[t],a=function(e,t){if("object"!=qt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=qt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i),(i="symbol"==qt(a)?a:a+"")in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t,n,o,i,r,a){try{var c=e[r](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(o,i)}var Mt="shifuMenuConciergeV2";function Ut(){var e;return e=Bt().mark((function e(){var t,n,o,i,u,s;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.ShifuConfig.flow,n=a(Mt,"enabled_true")&&("search"==t||"home"==t||"landing"==t),o=l(),i=c(),o&&document.body.classList.add("-my-benefits-incentive-ab"),u=i?null:Ve(window.ShifuConfig),n||i){e.next=10;break}return s=vt(window.ShifuConfig),e.next=10,s;case 10:if(i){e.next=13;break}return e.next=13,u;case 13:o&&!i&&v(),n?(Rt("concierge"),function(){var e,t,n=document.querySelector(".concierge-container"),o=document.querySelector(".shifu-3-tooltip.-shifu-concierge-coachmark"),i=document.querySelector(".shifu-tooltip-menu-basic.-shifu-concierge-menu .shifu-3-tooltip"),a=!1,c=!1;if(t="show-concierge-header",(e=document.querySelector("body")).classList.contains(t)||e.classList.add(t),document.querySelector(".login-trips-help").classList.add("login-trips-help-list-border-lines"),n&&o&&i){var u=n.querySelector(".header-chevron-container i"),l=window.ShifuConfig.loyaltyTier&&window.ShifuConfig.loyaltyTier.toLowerCase();n.addEventListener("mouseenter",(function(){i.classList.contains("-show-tooltip")||(o.classList.add("-show-tooltip"),c||(m({type:"show",eventtype:"event",item:"shifu-concierge-tooltip"}),c=!0))})),n.addEventListener("mouseleave",(function(){o.classList&&o.classList.remove("-show-tooltip")})),document.body.addEventListener("click",(function(e){!i.contains(e.target)&&i.classList&&(i.classList.remove("-show-tooltip"),u&&u.className&&(u.className="header-icon shifu-3-icon-chevron-down"))})),n.addEventListener("click",(function(e){e.stopPropagation(),o.classList&&o.classList.remove("-show-tooltip"),u&&u.classList&&(u.classList.toggle("shifu-3-icon-chevron-up"),u.classList.toggle("shifu-3-icon-chevron-down"));var t=document.querySelector("#logged.logged-common .avatar-container");t&&t.classList&&t.classList.remove("-show-tooltip");var n=document.getElementById("not-logged-tooltip");n&&n.classList&&n.classList.remove("-show-tooltip"),i.classList&&(i.classList.toggle("-show-tooltip"),!a&&i.classList.contains("-show-tooltip")&&(m({type:"show",eventtype:"event",item:"shifu-concierge-menu"}),a=!0)),function(){var e=window.ShifuConfig.country&&window.ShifuConfig.country.toLowerCase(),t=window.ShifuConfig.loyaltyTier&&window.ShifuConfig.loyaltyTier.toLowerCase(),n="";if(e&&t){var o={ar:{elite:"https://www.despegar.com.ar/agenda-tu-cita/videollamada-en-vivo-explorador",elite_plus:"https://www.despegar.com.ar/agenda-tu-cita/videollamada-en-vivo-global"},mx:{elite:"https://www.despegar.com.mx/agenda-tu-cita/videollamada-en-vivo-explorador",elite_plus:"https://www.despegar.com.mx/agenda-tu-cita/videollamada-en-vivo-global"},co:{elite:"https://www.despegar.com.co/agenda-tu-cita/videollamada-en-vivo-explorador",elite_plus:"https://www.despegar.com.co/agenda-tu-cita/videollamada-en-vivo-global"},br:{elite:"https://www.decolar.com/agende-um-horario/videochamada-ao-vivo-explorador",elite_plus:"https://www.decolar.com/agende-um-horario/videochamada-ao-vivo-global"}}[e][t];o&&S&&S.setAttribute("href",o)}else n="VideocallLinksConfigCountry not found with country: "+e;""!==n&&r("shifuConciergeError",{error:n,country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,xClient:window.ShifuConfig.xClient})}()})),S.addEventListener("click",(function(){s("videocall")})),b.addEventListener("click",(function(){s("whatsapp")}))}function s(e){m({type:"click",eventtype:"event",item:"shifu-concierge",label:"".concat(e,"_").concat(l)})}}()):Rt("phone"),window.ShifuConfig.isWebview||(Lt(),i||bt(),q()),window.shifuElementsVisibility&&window.ShifuConfig&&r("ShifuElementsVisibility",It(It({},window.shifuElementsVisibility),{},{locale:window.locale,country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient,isWebView:window.ShifuConfig.isWebView})),_t(kt),"US"===window.ShifuConfig.country&&(f=void 0,f=B("x-locale"),["en-US","es-US"].includes(f)&&(document.cookie="x-locale=; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=.despegar.com; path=/",function(e,t,n,o,i,r){if(/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="",c=new Date;c.setTime(+new Date+31536e6),a=";expires="+c.toGMTString(),document.cookie=e+"="+t+a+(i?"; domain="+i:"")+"; path=/"}("x-locale",f,0,0,".us.despegar.com"))),Wt();case 20:case"end":return e.stop()}var f}),e)})),Ut=function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){Gt(r,o,i,a,c,"next",e)}function c(e){Gt(r,o,i,a,c,"throw",e)}a(void 0)}))},Ut.apply(this,arguments)}function Wt(){var e,t=document.querySelector(".not-logged"),n=document.getElementById("logged-white-label"),o={country:window.ShifuConfig.country,partnerId:window.ShifuConfig.partner.code,location:window.location.href,version:window.ShifuConfig.version,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient};t||n?null!==(e=window)&&void 0!==e&&e.shifu_loyalty_info?Ht(window.shifu_loyalty_info):Ht({}):window.ShifuConfig.partner&&window.ShifuConfig.partner.isWL&&"true"===window.ShifuConfig.partner.isWL?Z().then((function(e){e&&Ht(e)})).catch((function(e){r("failLoyaltyWLBalance",Ft(Ft({},o),{},{error:e}))})):function(e){return Q.apply(this,arguments)}(window.ShifuConfig.locale).then((function(e){e&&Ht(e)})).catch((function(e){r("failLoyaltyBalance",Ft(Ft({},o),{},{error:e}))}))}function Ht(e){var t,n={};null!==e.has_cobrand&&void 0!==e.has_cobrand&&(n.has_cobrand=e.has_cobrand),null!=e&&e.loyalty_balance_range&&(n.loyalty_balance_range=e.loyalty_balance_range),null!=e&&e.available_points&&(n.has_loyalty_points=parseInt(e.available_points)>0),null!=e&&null!==(t=e.tier)&&void 0!==t&&t.code?n.loyalty_tier=e.tier.code.replace("_"," ").replace("-"," ").toUpperCase():null!=e&&e.code&&(n.loyalty_tier=e.code.replace("_"," ").replace("-"," ").toUpperCase()),ne({event:"userDataInfo",loyalty:n})}function Rt(e){var t=document.querySelectorAll(".header-banner-top.hide-phone");null!=t&&t.forEach((function(t){t.id===e?t.style.display="flex":t.style.display="none"}))}var Yt,Jt=!1;function Vt(){if(!Jt){var e;window.shifuTimes.cMainStr=ye(),Jt=!0,e=document.querySelector(".shifu-3-footer"),window.shifuElementsVisibility.hasFooter=!!e,e&&window.ShifuConfig.isWebview&&(window.shifuElementsVisibility.hideFooterWebview=!1,e&&(e.style="display:none",window.shifuElementsVisibility.hideFooterWebview=!0)),window.ShifuConfig.optionalJsFunctions&&window.ShifuConfig.optionalJsFunctions.indexOf("getContingencyMessages")>=0&&"home"===window.ShifuConfig.flow&&(b=window.ShifuConfig.locale,C=se.isMobile()?"&isMobile=".concat(se.isMobile()):"",E=window.ShifuConfig.partner&&window.ShifuConfig.partner.isWL&&"true"===window.ShifuConfig.partner.isWL?"&businessId=".concat(window.ShifuConfig.partner.business):"",L("/shifu/ajax/CONTINGENCY?locale=".concat(b).concat(C).concat(E),"contingency",(function(e,t){if(!e&&t&&t.html&&""!==t.html){for(var n=0;n<t.css.length;n++){var o=t.css[n],i=document.createElement("link");i.setAttribute("href",o),i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),document.body.appendChild(i)}var r=document.querySelector(".shifu-contingency-container");if("object"===Ot(r)){var a=document.createElement("div");a.innerHTML=t.html.trim(),r.appendChild(a);for(var c=0;c<t.js.length;c++){var u=t.js[c],l=document.createElement("script");l.setAttribute("src",u),document.body.appendChild(l)}}}return!1}))),window.ShifuConfig.partner.isWL&&function(e){var t,n=i.p,o=window.ShifuConfig.staticUrl.replace("%s",window.ShifuConfig.country.toLowerCase());i.p=o+n;var r=null==e||null===(t=e.match(/falabella|bestday|viajanet/))||void 0===t?void 0:t[0];r&&("falabella"===r?i.e(215).then(i.bind(i,677)):"bestday"===r?i.e(625).then(i.bind(i,705)):"viajanet"===r&&i.e(587).then(i.bind(i,299)))}(window.ShifuConfig.partner.code),h=document.querySelector(".shifu-3-header"),p=document.querySelector(".header-container-general"),w=document.getElementById("stickyBlankSpace"),g=!1,y=se.isMobile()&&"home"===window.ShifuConfig.flow,v="scrollUp",S=0,y&&window.addEventListener("scroll",(function(){var e=function(){var e,t=window.pageYOffset||document.documentElement.scrollTop;return t>S?e="scrollDown":t<S&&(e=v),S=t<=0?0:t,e}();if(h){var t=h.offsetTop+h.clientHeight;window.pageYOffset>t?(e===v?(h.classList.remove("-no-label"),h.style=""):function(){if(w&&0===w.offsetHeight){var e=h.offsetHeight;w.style="height: ".concat(e,"px")}h.classList.add("sticky","-no-label");var t=p?p.offsetHeight:0;h.style="top: -".concat(t,"px")}(),g=!0):(g&&(w&&(w.style="height: 0"),h.classList.remove("sticky","-no-label")),g=!1)}})),o=a("shifuHeaderExoticaIcon","enabled_true"),(u=document.getElementById("nav-driver-outstanding-packages"))&&!o&&u.classList.remove("-shifu-3-hide"),s=document.querySelectorAll(".new-container"),(d=(null==(f=(s=Array.from(s)).filter((function(e){return!Array.from(e.classList).some((function(e){return"-shifu-3-hide"===e}))}))[0])||null===(l=f.parentElement)||void 0===l||null===(l=l.attributes)||void 0===l||null===(l=l.product)||void 0===l?void 0:l.value)||null)&&m({type:"show",eventtype:"event",item:"showDriver-".concat(d),data:{bucket_info:window.ShifuConfig.cesBucketInfo}}),setTimeout((function(){var e,t=c(),n=document.querySelector("#autogestion-language");!t&&n&&_(n,"click","LANGUAGE",n);var o=document.querySelector(".shifu-retraction-law-label"),i=document.querySelector("#shifu-js-retraction-law-container");o&&i&&_(o,"click","MODAL_RETRACTION_LAW",i);var r=document.querySelector(".retraction-law-banner-label"),a=document.querySelector(".shifu-retraction-law-banner-modal"),u=document.querySelector(".shifu-retraction-law-banner-modal .modal-close");r&&a&&u&&(u.addEventListener("click",(function(e){a.classList.remove("-show-modal"),a.classList.add("-shifu-3-hide"),e.stopPropagation()})),u.addEventListener("keydown",(function(e){"Enter"===e.key&&(a.classList.remove("-show-modal"),a.classList.add("-shifu-3-hide"),e.stopPropagation())})),r.addEventListener("click",(function(e){a.classList.remove("-shifu-3-hide"),a.classList.add("-show-modal"),e.stopPropagation()})),r.addEventListener("keydown",(function(e){"Enter"===e.key&&(a.classList.remove("-shifu-3-hide"),a.classList.add("-show-modal"),e.stopPropagation())})));var l=document.querySelector(".subscription-messages"),s=document.getElementById("subscribe-button");l&&_(s,"click","SUBSCRIPTION_VALIDATION",l);var f=document.querySelector(".subscription-messages-container"),d=document.getElementById("subscribe-button-ab");f&&_(d,"click","SUBSCRIPTION_VALIDATION",f);var h=t?document.getElementsByTagName("shifu-header-component")[0]:document.querySelector(".shifu-3-header");if(h&&null!==(e=window.ShifuConfig)&&void 0!==e&&e.showBetaPolice){var p=document.createEvent("HTMLEvents");p.initEvent("BETAPolice",!0,!0),_(document,"BETAPolice","BETA_POLICE",h),document.dispatchEvent(p)}var w=document.querySelector(".shifu-extended-menu");w&&_(w.parentElement,"click","EXTENDED_MENU",w);var g=document.querySelector(".phone-display-tooltip");if(g&&_(g.parentElement,"mouseenter","DROPDOWN_PHONE",g,{trackerId:B("trackerid")}),!t){var y=document.querySelector(".avatar-lazy");if(y){var v={};window.ShifuConfig.partner&&(v={partner:JSON.stringify(window.ShifuConfig.partner)}),_(y.parentElement,"UserStatus","USER_STATUS",y,v)}}}),0),function(){Ut.apply(this,arguments)}(),Se.tracking();var t=Ft(Ft({},window.ShifuConfig),{},{showedIncentives:window.showedIncentives}),n=window.shifuWebViewData;n&&(t=Ft(Ft({},t),n)),window.ShifuConfig.trackInitFailed&&ge(),r("SHIFU_INIT",t),window.shifuTimes.cMainEnd=ye(),document.addEventListener("menuEnd",(function(){!function(e){if(window.shifuTimes&&window.ShifuConfig){var t=window.shifuTimes&&window.ShifuConfig?jt(jt({},window.shifuTimes),{},{flow:window.ShifuConfig.flow,channel:window.ShifuConfig.channel,isWebview:window.ShifuConfig.isWebview,companyId:window.ShifuConfig.companyId,country:window.ShifuConfig.country,product:window.ShifuConfig.product,selectedProduct:window.ShifuConfig.selectedProduct,isLogged:window.ShifuConfig.isLogged,version:window.ShifuConfig.version,xClient:window.ShifuConfig.xClient}):{};e&&(t=jt(jt({},t),e)),r("SHIFU_TIMES",t)}}(n)}))}var o,u,l,s,f,d,h,p,w,g,y,v,S,b,C,E}void 0===window.shifuTimes&&(window.shifuTimes={}),null!==(Yt=window.ShifuConfig)&&void 0!==Yt&&Yt.isShifuLoaded?Vt():document.addEventListener("Shifu_Loaded",Vt)})();