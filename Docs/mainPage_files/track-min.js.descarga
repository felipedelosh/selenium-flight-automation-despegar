function initFingerprint(e,t,i,o,n){if(e.getElementById(o)?.remove(),i&&("string"==typeof i||"number"==typeof i)){var r=e.createElement("iframe"),_=e.getElementsByTagName("body")[0];r.src=t+i,r.id=o,r.title="Koin fingerprint "+o,n&&(r.allow=n),r.style="position:absolute;width:0;height:0;border:0;",_.appendChild(r)}}var FINGERPRINT_SUCCESS_MESSAGE="FP_OK",SESSION_ID_EXPIRES_HOURS=24,DEVICE_ID_EXPIRES_HOURS=8760;function SCODE(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function getUUID(){return SCODE()+SCODE()+SCODE()+SCODE()+SCODE()+SCODE()+SCODE()+SCODE()}function setCookie(e,t,i,o){var n=new Date;n.setTime(n.getTime()+3600*i*1e3);var r="expires="+n.toUTCString();return document.cookie=e+"="+t+";"+r+";path="+o+";SameSite=none; Secure; Partitioned",fp_cookie()&&-1!==document.cookie.indexOf(e)||window&&"undefined"!=typeof window&&getLocalStorage(window)&&window.localStorage.setItem(e,t),t}function readCookie(e){var t=e+"=",o=document.cookie.split(";"),n=o.length;for(i=0;i<n;i++){if(o[i].indexOf(t)>-1)return o[i].split("=")[1]}if(getLocalStorage(window)&&window.localStorage.getItem(e))return window.localStorage.getItem(e)}function fp_cookie(){"use strict";var e=!1;try{return e=!(!window.navigator||!window.navigator.cookieEnabled),"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie="__fp_test_Cookie",e=-1!==document.cookie.indexOf("__fp_test_Cookie")),e}catch(t){return e}}function getLocalStorage(e){try{return e.localStorage!==undefined}catch(t){return!1}}var orgId=document.getElementById("deviceId_fp").getAttribute("org_id"),sessionId=document.getElementById("deviceId_fp").getAttribute("session_id"),SESSION_COOKIE_NAME="__sessionId_cookie",THREAT_METRIX_ORG_ID="1vhccjqm",TM_IFRAME_URL="https://h.online-metrix.net/fp/tags?org_id="+THREAT_METRIX_ORG_ID+"&pageid=1&session_id=",DF_IFRAME_URL="https://securegtm.despegar.com/risk/fingerprint/statics/track.html?org_id="+orgId+"&session_id=",DF_IFRAME_ID="__k_fingerprint_iframe__",TM_IFRAME_ID="__tm_fingerprint_iframe__",RISKIFIED_SC="__rf_integration_script__";function setSessionID(e,t){if(e&&"string"==typeof e&&setCookie(SESSION_COOKIE_NAME,e,SESSION_ID_EXPIRES_HOURS,"/"),null!=t&&"function"==typeof t){const i=i=>{"https://securegtm.despegar.com"===i.origin&&i.data===FINGERPRINT_SUCCESS_MESSAGE&&t(e)};window.addEventListener("message",i)}var i=e.replace(orgId+"_","");initFingerprint(document,DF_IFRAME_URL,i,DF_IFRAME_ID),(i=e.replace(orgId,THREAT_METRIX_ORG_ID)).length<9&&(i=THREAT_METRIX_ORG_ID+"_"+i),initFingerprint(document,TM_IFRAME_URL,i,TM_IFRAME_ID,"camera;microphone")}function getSessionID(e){setSessionID(readCookie(SESSION_COOKIE_NAME)||setCookie(SESSION_COOKIE_NAME,getUUID(),SESSION_ID_EXPIRES_HOURS,"/"),e)}sessionId&&"string"==typeof sessionId&&setSessionID(sessionId);