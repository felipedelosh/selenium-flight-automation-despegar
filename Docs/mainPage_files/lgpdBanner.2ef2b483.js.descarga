(()=>{"use strict";function n(n,e){"string"==typeof n&&void 0!==window.newrelic&&"function"==typeof window.newrelic.addPageAction&&((e=e||{}).location=window.location.href,window.ShifuConfig&&(e.country=window.ShifuConfig.country,e.product=window.ShifuConfig.product,e.flow=window.ShifuConfig.flow,e.companyId=window.ShifuConfig.companyId,e.version=window.ShifuConfig.version,e.xClient=window.ShifuConfig.xClient,e.pageviewId=window.ShifuConfig.pageviewId),window.newrelic.addPageAction(n,e))}function e(e,t){null!=e&&window.ShifuConfig.pageviewId?(e.pageview_id=window.ShifuConfig.pageviewId,function(n){var e=new XMLHttpRequest;e.open("POST",window.ShifuConfig.domain+"/hermes-service/topic/shifu",!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(n))}(e)):("track-init"==t&&!window.ShifuConfig.trackInitFailed||n("invalidShifuPush",{error:null==e?"NullShifuObject":"EmptyPageviewId",country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,trackingId:t||"undefined",ab:JSON.stringify(window.ShifuConfig.ab),initFailedTwice:window.ShifuConfig.trackInitFailed}),"track-init"==t&&window.ShifuConfig.setTrackInitFailed())}function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t(n)}function i(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,o(i.key),i)}}function o(n){var e=function(n,e){if("object"!=t(n)||!n)return n;var i=n[Symbol.toPrimitive];if(void 0!==i){var o=i.call(n,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==t(e)?e:e+""}var r="showedIncentives",c=[];function f(n){var e=function(){var n=JSON.parse(localStorage.getItem(r));return n||(localStorage.setItem(r,JSON.stringify(c)),n=c),n}(),t=e.findIndex((function(e){return n===(null==e?void 0:e.name)}));-1!==t?e[t].lastDateShowed=u():e.push({name:n,lastDateShowed:u()}),localStorage.setItem(r,JSON.stringify(e))}function u(){var n=new Date,e=n.getFullYear(),t=("0"+(n.getMonth()+1)).slice(-2),i=("0"+n.getDate()).slice(-2);return"".concat(e,"-").concat(t,"-").concat(i)}function a(n){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},a(n)}function l(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,d(i.key),i)}}function d(n){var e=function(n,e){if("object"!=a(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,"string");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==a(e)?e:e+""}function s(n,e,t){return e=p(e),function(n,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}(n,w()?Reflect.construct(e,t||[],p(n).constructor):e.apply(n,t))}function w(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(w=function(){return!!n})()}function p(n){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p(n)}function y(n,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},y(n,e)}new(function(t){function i(){var n;return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=s(this,i,["lgpd_banner"])).launchIncentive(),n}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&y(n,e)}(i,t),o=i,(r=[{key:"changeVisibilityLgpdBanner",value:function(n){var t=document.querySelector("#lgpd-banner");t&&(e({type:n?"close":"show",eventtype:"event",item:"lgpdbanner",data:{bucket_info:window.ShifuConfig.cesBucketInfo}}),t.style.visibility=n?"hidden":"inherit")}},{key:"launchIncentive",value:function(){var t=document.getElementById("lgpd-banner");if(window&&(window.changeVisibilityLgpdBanner=this.changeVisibilityLgpdBanner),t){var i="-shifu-show-lgpd-banner";"checkout"===window.ShifuConfig.flow?t.classList.add("lgpd-banner--container_fixed_desktop"):t.classList.add("lgpd-banner--container_fixed"),t.classList.remove("-shifu-3-hide"),document.body.classList.add(i);var o=this.incentiveName;t.querySelector(".lgpd-banner--button").addEventListener("click",(function(){f(o),t.classList.add("-shifu-3-hide"),document.body.classList.remove(i),e({type:"click",eventtype:"event",item:"lgpdbanner",data:{bucket_info:window.ShifuConfig.cesBucketInfo}})})),e({type:"show",eventtype:"event",item:"lgpdbanner",data:{bucket_info:window.ShifuConfig.cesBucketInfo}})}else!function(n){f(n)}(this.incentiveName),function(e,t){n("INCENTIVE_LAZY_NOT_SHOWED",{reason:"container not found",incentive:t,abResults:window.ShifuConfig.ab,country:window.ShifuConfig.country,location:window.location.href,version:window.ShifuConfig.version,isAgency:window.ShifuConfig.partner.isAgency,isWL:window.ShifuConfig.partner.isWL,flow:window.ShifuConfig.flow,product:window.ShifuConfig.product,xClient:window.ShifuConfig.xClient})}(0,this.incentiveName)}}])&&l(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,r}(function(){return n=function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this._incentiveName=e},(e=[{key:"incentiveName",get:function(){return this._incentiveName}}])&&i(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,e}()))})();